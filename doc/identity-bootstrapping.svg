<?xml version="1.0"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" version="1.1" viewBox="-16 12 602 697" width="602pt" height="697pt"><metadata xmlns:dc="http://purl.org/dc/elements/1.1/"><dc:date>2017-07-30 20:54Z</dc:date><!-- Produced by OmniGraffle Professional 5.4.4 --></metadata><defs><font-face font-family="Helvetica" font-size="12" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face><marker orient="auto" overflow="visible" markerUnits="strokeWidth" id="FilledArrow_Marker" viewBox="-1 -4 10 8" markerWidth="10" markerHeight="8" color="black"><g><path d="M 8 0 L 0 -3 L 0 3 Z" fill="currentColor" stroke="currentColor" stroke-width="1"/></g></marker><font-face font-family="Courier New" font-size="8" panose-1="2 7 3 9 2 2 5 2 4 4" units-per-em="1000" underline-position="-232.91016" underline-thickness="41.015625" slope="0" x-height="422.85156" cap-height="571.28906" ascent="832.51953" descent="-300.29297" font-weight="500"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><font-face font-family="Courier New" font-size="8" panose-1="2 7 6 9 2 2 5 2 4 4" units-per-em="1000" underline-position="-232.91016" underline-thickness="100.097656" slope="0" x-height="443.35938" cap-height="591.79688" ascent="832.51953" descent="-300.29297" font-weight="bold"><font-face-src><font-face-name name="CourierNewPS-BoldMT"/></font-face-src></font-face><font-face font-family="Courier New" font-size="9" panose-1="2 7 3 9 2 2 5 2 4 4" units-per-em="1000" underline-position="-232.91016" underline-thickness="41.015625" slope="0" x-height="422.85156" cap-height="571.28906" ascent="832.51953" descent="-300.29297" font-weight="500"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><font-face font-family="Helvetica" font-size="10" units-per-em="1000" underline-position="-75.683594" underline-thickness="49.316406" slope="0" x-height="522.94922" cap-height="717.28516" ascent="770.01953" descent="-229.98047" font-weight="500"><font-face-src><font-face-name name="Helvetica"/></font-face-src></font-face></defs><g stroke="none" stroke-opacity="1" stroke-dasharray="none" fill="none" fill-opacity="1"><title>Canvas 1</title><rect fill="white" width="576" height="733"/><g><title>Layer 1</title><rect x="178.4" y="213.48819" width="384" height="326.69038" fill="#ccc"/><path d="M 178.4 213.48819 L 562.4 213.48819 L 562.4 540.17857 L 178.4 540.17857 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="1,4"/><rect x="268.8" y="346.1814" width="254" height="109.02054" fill="#c99"/><path d="M 268.8 346.1814 L 522.8 346.1814 L 522.8 455.20194 L 268.8 455.20194 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" stroke-dasharray="1,4"/><path d="M 24.4 40.243294 L 105.9 40.243294 C 107.00457 40.243294 107.9 41.138725 107.9 42.243294 L 107.9 58.537696 C 107.9 59.642266 107.00457 60.537696 105.9 60.537696 L 24.4 60.537696 C 23.29543 60.537696 22.4 59.642266 22.4 58.537696 L 22.4 42.243294 C 22.4 41.138725 23.29543 40.243294 24.4 40.243294 Z" fill="#999"/><text transform="translate(27.4 43.390495)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="19.735352" y="11" textLength="7.330078">T</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="25.735352" y="11" textLength="30.029297">enant</tspan></text><path d="M 185.4 40.243294 L 258.4 40.243294 C 259.50457 40.243294 260.4 41.138725 260.4 42.243294 L 260.4 58.537696 C 260.4 59.642266 259.50457 60.537696 258.4 60.537696 L 185.4 60.537696 C 184.29544 60.537696 183.4 59.642266 183.4 58.537696 L 183.4 42.243294 C 183.4 41.138725 184.29544 40.243294 185.4 40.243294 Z" fill="#999"/><text transform="translate(188.4 43.390495)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x=".15722275" y="11" textLength="66.685547">Orchestrator</tspan></text><path d="M 339 40.243294 L 407 40.243294 C 408.10457 40.243294 409 41.138725 409 42.243294 L 409 58.537696 C 409 59.642266 408.10457 60.537696 407 60.537696 L 339 60.537696 C 337.89543 60.537696 337 59.642266 337 58.537696 L 337 42.243294 C 337 41.138725 337.89543 40.243294 339 40.243294 Z" fill="#999"/><text transform="translate(342 43.390495)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="5.9833984" y="11" textLength="50.033203">SpartanX</tspan></text><path d="M 483.6 40.243294 L 542.1 40.243294 C 543.20457 40.243294 544.1 41.138725 544.1 42.243294 L 544.1 58.537696 C 544.1 59.642266 543.20457 60.537696 542.1 60.537696 L 483.6 60.537696 C 482.49543 60.537696 481.6 59.642266 481.6 58.537696 L 481.6 42.243294 C 481.6 41.138725 482.49543 40.243294 483.6 40.243294 Z" fill="#999"/><text transform="translate(486.6 43.390495)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="3.5683594" y="11" textLength="45.36328">Instance</tspan></text><path d="M 24.4 611.45647 L 105.9 611.45647 C 107.00457 611.45647 107.9 612.3519 107.9 613.45647 L 107.9 629.75087 C 107.9 630.85544 107.00457 631.75087 105.9 631.75087 L 24.4 631.75087 C 23.29543 631.75087 22.4 630.85544 22.4 629.75087 L 22.4 613.45647 C 22.4 612.3519 23.29543 611.45647 24.4 611.45647 Z" fill="#999"/><text transform="translate(27.4 614.60367)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="19.735352" y="11" textLength="7.330078">T</tspan><tspan font-family="Helvetica" font-size="12" font-weight="500" x="25.735352" y="11" textLength="30.029297">enant</tspan></text><path d="M 185.4 611.45647 L 258.4 611.45647 C 259.50457 611.45647 260.4 612.3519 260.4 613.45647 L 260.4 629.75087 C 260.4 630.85544 259.50457 631.75087 258.4 631.75087 L 185.4 631.75087 C 184.29544 631.75087 183.4 630.85544 183.4 629.75087 L 183.4 613.45647 C 183.4 612.3519 184.29544 611.45647 185.4 611.45647 Z" fill="#999"/><text transform="translate(188.4 614.60367)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x=".15722275" y="11" textLength="66.685547">Orchestrator</tspan></text><path d="M 339 611.45647 L 407 611.45647 C 408.10457 611.45647 409 612.3519 409 613.45647 L 409 629.75087 C 409 630.85544 408.10457 631.75087 407 631.75087 L 339 631.75087 C 337.89543 631.75087 337 630.85544 337 629.75087 L 337 613.45647 C 337 612.3519 337.89543 611.45647 339 611.45647 Z" fill="#999"/><text transform="translate(342 614.60367)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="5.9833984" y="11" textLength="50.033203">SpartanX</tspan></text><path d="M 483.6 611.45647 L 542.1 611.45647 C 543.20457 611.45647 544.1 612.3519 544.1 613.45647 L 544.1 629.75087 C 544.1 630.85544 543.20457 631.75087 542.1 631.75087 L 483.6 631.75087 C 482.49543 631.75087 481.6 630.85544 481.6 629.75087 L 481.6 613.45647 C 481.6 612.3519 482.49543 611.45647 483.6 611.45647 Z" fill="#999"/><text transform="translate(486.6 614.60367)" fill="black"><tspan font-family="Helvetica" font-size="12" font-weight="500" x="3.5683594" y="11" textLength="45.36328">Instance</tspan></text><line x1="65.15" y1="60.537696" x2="65.15" y2="611.45647" stroke="#999" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><line x1="221.9" y1="60.537696" x2="221.90026" y2="611.45647" stroke="#999" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><line x1="373" y1="60.537696" x2="373" y2="611.45647" stroke="#999" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><line x1="512.85" y1="60.537696" x2="512.85" y2="611.45647" stroke="#999" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><line x1="65.15" y1="142.80427" x2="365.45" y2="142.80427" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><rect x="130.9" y="124.58881" width="194.5" height="15.839533" fill="white"/><text transform="translate(135.9 128.008576)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="5.8359375" y="7" textLength="172.82812">t_token = GetAuthzToken(provider_id)</tspan></text><line x1="65.15" y1="170.52057" x2="214.35006" y2="170.52332" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(98.9 159.48965)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="6.7929688" y="7" textLength="86.41406">LaunchApp(t_token)</tspan></text><line x1="221.90007" y1="199.82659" x2="365.45" y2="199.82659" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><rect x="228.25" y="176.47933" width="135" height="20.294402" fill="white"/><text transform="translate(233.25 177.62653)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="4.890625" y="7" textLength="115.21875">AuthorizeTenantAppAccess</tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x=".08984375" y="16" textLength="124.82031">(t_token, p_token, app_id)</tspan></text><line x1="221.90009" y1="232.79397" x2="505.3" y2="232.79984" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(396 220.86784)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="21.195312" y="7" textLength="57.609375">Boot(app_id)</tspan></text><line x1="221.90013" y1="329.2173" x2="365.45" y2="329.2173" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><path d="M 512.85 244.8469 C 518.0328 246.20751 525.67527 244.40071 528.4 248.92915 C 531.12473 253.45758 531.7914 267.67898 529.2 272.02022 C 527.9964 274.03652 525.55942 274.60542 522.74838 274.73528" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(410.2 255.10045)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="2.4429703" y="7" textLength="91.214844">Generate ECDSA key </tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="24.046486" y="16" textLength="43.20703">pair, CSR</tspan></text><text transform="translate(223.8 309.35955)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x=".087890625" y="7" textLength="153.625">AddToTenantApp(p_token, app_id, </tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="19.291016" y="16" textLength="110.41797">public_key_fp, node_id)</tspan></text><path d="M 373 378.4334 C 378.9994 379.74788 388.0003 377.89247 391 382.37721 C 393.9997 386.86196 393.9997 400.47807 391 405.34454 C 389.43688 407.88042 386.2442 408.90208 382.6958 409.59305" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(273 389.11775)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="4.392578" y="7" textLength="91.214844">CheckAppMembership,</tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="25.996094" y="16" textLength="48.007812">Mint Certs</tspan></text><line x1="512.85" y1="362.36285" x2="380.55" y2="362.36285" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(374.6 349.81154)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x=".63906097" y="7" textLength="134.421875">GetCertificate(CSR, node_id)</tspan></text><line x1="373" y1="437.69356" x2="505.3" y2="437.69356" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(132.275 568.3476)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="2.2226562" y="7" textLength="28.804688">OnExit</tspan></text><line x1="221.90026" y1="595.3859" x2="365.45" y2="595.3859" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(249.75 574.36604)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="5.341797" y="7" textLength="100.816406">RevokeTenantAppAccess</tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="14.943359" y="16" textLength="81.61328">(app_id, p_token)</tspan></text><text transform="translate(390 417.30717)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="2.5917969" y="7" textLength="105.61719">X509 certs, id tokens </tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="43.398438" y="16" textLength="19.203125">etc.</tspan></text><line x1="-2.6" y1="465.43577" x2="574.4" y2="466.42574" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(-1 146.5749)" fill="#00c"><tspan font-family="Courier New" font-size="8" font-weight="bold" fill="#00c" x="14.347656" y="7" textLength="33.605469">Launch </tspan><tspan font-family="Courier New" font-size="8" font-weight="bold" fill="#00c" x="2.3457031" y="16" textLength="52.808594">Application</tspan></text><line x1="65.15" y1="105.58137" x2="214.35003" y2="105.58137" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(8.4 90.93417)" fill="#00c"><tspan font-family="Courier New" font-size="8" font-weight="bold" fill="#00c" x="2.2460938" y="7" textLength="48.007812">Onboarding</tspan></text><text transform="translate(87.9 86.43417)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="14.4921875" y="7" textLength="100.816406">Provision Tenant App </tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="4.890625" y="16" textLength="115.21875">(whitelist tenant's app)</tspan></text><line x1="67.9" y1="578.78743" x2="214.35028" y2="578.33433" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(7.9 472.07294)" fill="#00c"><tspan font-family="Courier New" font-size="8" font-weight="bold" fill="#00c" x="2.2460938" y="7" textLength="48.007812">Reschedule</tspan></text><line x1="-3.5999952" y1="116.223556" x2="573.4" y2="117.21353" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(224.6 386.54382)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="bold" x="3.1972656" y="7" textLength="33.605469">Refresh</tspan><tspan font-family="Courier New" font-size="8" font-weight="bold" x="10.3984375" y="16" textLength="19.203125">loop</tspan></text><line x1="221.90021" y1="497.6" x2="505.30002" y2="496.82077" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(387.69999 476.14285)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="12.091797" y="7" textLength="105.61719">KillInstance(p_token, </tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="45.697266" y="16" textLength="33.605469">app_id)</tspan></text><rect x="339.9375" y="653.6613" width="209.0625" height="43.682463" fill="#ccc"/><text transform="translate(339.3125 658.75837)" fill="black"><tspan font-family="Courier New" font-size="9" font-weight="500" x="11.2368164" y="7" textLength="162.02637">p_token -&gt; provider auth token</tspan></text><text transform="translate(340.9375 671.67814)" fill="black"><tspan font-family="Courier New" font-size="9" font-weight="500" x="8.7626953" y="7" textLength="151.22461">t_token -&gt; tenant auth token</tspan></text><line x1="-3.6" y1="557.1937" x2="573.4" y2="558.18366" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(239.5 506.02712)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="16.892578" y="7" textLength="91.214844">RemoveFromTenantApp</tspan><tspan font-family="Courier New" font-size="8" font-weight="500" x="4.890625" y="16" textLength="115.21875">(p_token, public_key_fp)</tspan></text><line x1="221.90022" y1="527.08604" x2="365.45" y2="527.08604" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(121.9 346.59668)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="bold" x="19.048828" y="7" textLength="19.203125">App </tspan><tspan font-family="Courier New" font-size="8" font-weight="bold" x="4.6464844" y="16" textLength="43.20703">lifecycle</tspan><tspan font-family="Courier New" font-size="8" font-weight="bold" x="16.6484375" y="25" textLength="19.203125">loop</tspan></text><line x1="512.85" y1="290.04533" x2="229.45008" y2="289.06698" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" stroke-dasharray="4,4"/><text transform="translate(248 275.48832)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="14.4921875" y="7" textLength="96.015625">Return public_key_fp</tspan></text><text transform="translate(336.3125 684.05277)" fill="black"><tspan font-family="Courier New" font-size="9" font-weight="500" x="13.109619" y="7" textLength="189.03076">node_id -&gt; Instance's node identity</tspan></text><text transform="translate(3.4 561.60343)" fill="#00c"><tspan font-family="Courier New" font-size="8" font-weight="bold" fill="#00c" x="11.847656" y="7" textLength="28.804688">OnExit</tspan></text><line x1="65.15" y1="78.654164" x2="365.45" y2="78.654164" marker-end="url(#FilledArrow_Marker)" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text transform="translate(87.899997 66.184897)" fill="black"><tspan font-family="Courier New" font-size="8" font-weight="500" x="39.73867" y="7" textLength="139.22266">Register Tenant App/Namespace</tspan></text><path d="M 472.2625 23.175 L 553.7625 23.175 C 554.86707 23.175 555.7625 24.07043 555.7625 25.175 L 555.7625 64.857463 C 555.7625 65.962033 554.86707 66.857463 553.7625 66.857463 L 472.2625 66.857463 C 471.15793 66.857463 470.2625 65.962033 470.2625 64.857463 L 470.2625 25.175 C 470.2625 24.07043 471.15793 23.175 472.2625 23.175 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(475.2625 25.016232)" fill="black"><tspan font-family="Helvetica" font-size="10" font-weight="500" x="8.3847656" y="10" textLength="9.4384766">W</tspan><tspan font-family="Helvetica" font-size="10" font-weight="500" x="17.647461" y="10" textLength="25.561523">orker </tspan><tspan font-family="Helvetica" font-size="10" font-weight="500" x="43.208984" y="10" textLength="23.90625">Node</tspan></text><path d="M 472.26254 603.9902 L 553.76254 603.9902 C 554.8671 603.9902 555.76254 604.88563 555.76254 605.9902 L 555.76254 645.67266 C 555.76254 646.77723 554.8671 647.67266 553.76254 647.67266 L 472.26254 647.67266 C 471.15797 647.67266 470.26254 646.77723 470.26254 645.67266 L 470.26254 605.9902 C 470.26254 604.88563 471.15797 603.9902 472.26254 603.9902 Z" stroke="black" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text transform="translate(475.26254 605.83143)" fill="black"><tspan font-family="Helvetica" font-size="10" font-weight="500" x="8.3847656" y="38" textLength="9.4384766">W</tspan><tspan font-family="Helvetica" font-size="10" font-weight="500" x="17.647461" y="38" textLength="25.561523">orker </tspan><tspan font-family="Helvetica" font-size="10" font-weight="500" x="43.208984" y="38" textLength="23.90625">Node</tspan></text></g></g></svg>
